{
  "id": "e141accd-da0f-484d-a49d-3623744890ec",
  "prevId": "a8ba63df-04ef-445f-bae2-eb67c638546b",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "account_userId_idx": {
          "name": "account_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_userId_idx": {
          "name": "session_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.two_factor": {
      "name": "two_factor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "backup_codes": {
          "name": "backup_codes",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "twoFactor_secret_idx": {
          "name": "twoFactor_secret_idx",
          "columns": [
            {
              "expression": "secret",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "twoFactor_userId_idx": {
          "name": "twoFactor_userId_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "two_factor_user_id_user_id_fk": {
          "name": "two_factor_user_id_user_id_fk",
          "tableFrom": "two_factor",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "two_factor_enabled": {
          "name": "two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "verification_identifier_idx": {
          "name": "verification_identifier_idx",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maintenance_request": {
      "name": "maintenance_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "unit_id": {
          "name": "unit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_landlord_id": {
          "name": "created_by_landlord_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_tenant_id": {
          "name": "created_by_tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "maintenance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "maintenance_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "photos": {
          "name": "photos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        }
      },
      "indexes": {
        "maintenance_request_unit_id_idx": {
          "name": "maintenance_request_unit_id_idx",
          "columns": [
            {
              "expression": "unit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "maintenance_request_tenant_id_idx": {
          "name": "maintenance_request_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "maintenance_request_created_by_user_id_idx": {
          "name": "maintenance_request_created_by_user_id_idx",
          "columns": [
            {
              "expression": "created_by_landlord_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "maintenance_request_created_by_tenant_id_idx": {
          "name": "maintenance_request_created_by_tenant_id_idx",
          "columns": [
            {
              "expression": "created_by_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "maintenance_request_unit_id_unit_id_fk": {
          "name": "maintenance_request_unit_id_unit_id_fk",
          "tableFrom": "maintenance_request",
          "tableTo": "unit",
          "columnsFrom": [
            "unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "maintenance_request_tenant_id_tenant_id_fk": {
          "name": "maintenance_request_tenant_id_tenant_id_fk",
          "tableFrom": "maintenance_request",
          "tableTo": "tenant",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "maintenance_request_created_by_landlord_id_user_id_fk": {
          "name": "maintenance_request_created_by_landlord_id_user_id_fk",
          "tableFrom": "maintenance_request",
          "tableTo": "user",
          "columnsFrom": [
            "created_by_landlord_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "maintenance_request_created_by_tenant_id_tenant_id_fk": {
          "name": "maintenance_request_created_by_tenant_id_tenant_id_fk",
          "tableFrom": "maintenance_request",
          "tableTo": "tenant",
          "columnsFrom": [
            "created_by_tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "maintenance_request_resolved_requires_timestamp": {
          "name": "maintenance_request_resolved_requires_timestamp",
          "value": "\"maintenance_request\".\"status\" != 'resolved' OR \"maintenance_request\".\"resolved_at\" IS NOT NULL"
        },
        "maintenance_request_creator_present": {
          "name": "maintenance_request_creator_present",
          "value": "\"maintenance_request\".\"created_by_landlord_id\" IS NOT NULL OR \"maintenance_request\".\"created_by_tenant_id\" IS NOT NULL"
        }
      },
      "isRLSEnabled": false
    },
    "public.payment": {
      "name": "payment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unit_id": {
          "name": "unit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "paid_date": {
          "name": "paid_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "initial_late_fee_type": {
          "name": "initial_late_fee_type",
          "type": "initial_late_fee_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "initial_late_fee_value": {
          "name": "initial_late_fee_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "initial_late_fee_days_from_due": {
          "name": "initial_late_fee_days_from_due",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "daily_late_fee_amount": {
          "name": "daily_late_fee_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "daily_late_fee_start_day": {
          "name": "daily_late_fee_start_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_limit_type": {
          "name": "late_fee_limit_type",
          "type": "late_fee_limit_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'no_limit'"
        },
        "late_fee_limit_stop_after_days": {
          "name": "late_fee_limit_stop_after_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_limit_amount": {
          "name": "late_fee_limit_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_limit_percent_of_rent": {
          "name": "late_fee_limit_percent_of_rent",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_tenant_id_idx": {
          "name": "payment_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_unit_id_idx": {
          "name": "payment_unit_id_idx",
          "columns": [
            {
              "expression": "unit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_due_date_idx": {
          "name": "payment_due_date_idx",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_tenant_id_tenant_id_fk": {
          "name": "payment_tenant_id_tenant_id_fk",
          "tableFrom": "payment",
          "tableTo": "tenant",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_unit_id_unit_id_fk": {
          "name": "payment_unit_id_unit_id_fk",
          "tableFrom": "payment",
          "tableTo": "unit",
          "columnsFrom": [
            "unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "payment_amount_non_negative": {
          "name": "payment_amount_non_negative",
          "value": "\"payment\".\"amount\" >= 0"
        },
        "payment_paid_date_for_paid_status": {
          "name": "payment_paid_date_for_paid_status",
          "value": "\"payment\".\"status\" != 'paid' OR \"payment\".\"paid_date\" IS NOT NULL"
        },
        "payment_initial_fee_value_non_negative": {
          "name": "payment_initial_fee_value_non_negative",
          "value": "\"payment\".\"initial_late_fee_value\" IS NULL OR \"payment\".\"initial_late_fee_value\" >= 0"
        },
        "payment_daily_fee_amount_non_negative": {
          "name": "payment_daily_fee_amount_non_negative",
          "value": "\"payment\".\"daily_late_fee_amount\" IS NULL OR \"payment\".\"daily_late_fee_amount\" >= 0"
        },
        "payment_initial_fee_day_range": {
          "name": "payment_initial_fee_day_range",
          "value": "\"payment\".\"initial_late_fee_days_from_due\" IS NULL OR (\"payment\".\"initial_late_fee_days_from_due\" BETWEEN 1 AND 31)"
        },
        "payment_daily_fee_day_range": {
          "name": "payment_daily_fee_day_range",
          "value": "\"payment\".\"daily_late_fee_start_day\" IS NULL OR (\"payment\".\"daily_late_fee_start_day\" BETWEEN 2 AND 31)"
        },
        "payment_initial_fee_percent_range": {
          "name": "payment_initial_fee_percent_range",
          "value": "\"payment\".\"initial_late_fee_type\" NOT IN ('percent_rent','percent_unpaid') OR \"payment\".\"initial_late_fee_value\" BETWEEN 0 AND 100"
        },
        "payment_initial_fee_requires_fields": {
          "name": "payment_initial_fee_requires_fields",
          "value": "\n        \"payment\".\"initial_late_fee_type\" IS NULL\n        OR (\n          \"payment\".\"initial_late_fee_value\" IS NOT NULL\n          AND \"payment\".\"initial_late_fee_days_from_due\" BETWEEN 1 AND 31\n        )\n      "
        },
        "payment_daily_fee_requires_fields": {
          "name": "payment_daily_fee_requires_fields",
          "value": "\n        \"payment\".\"daily_late_fee_amount\" IS NULL\n        OR (\n          \"payment\".\"daily_late_fee_start_day\" BETWEEN 2 AND 31\n        )\n      "
        },
        "payment_limit_percent_range": {
          "name": "payment_limit_percent_range",
          "value": "\"payment\".\"late_fee_limit_type\" != 'max_total_percent_rent' OR \"payment\".\"late_fee_limit_percent_of_rent\" BETWEEN 0 AND 100"
        },
        "payment_limit_type_requirements": {
          "name": "payment_limit_type_requirements",
          "value": "\n        (\n          \"payment\".\"late_fee_limit_type\" != 'stop_after_days'\n          OR \"payment\".\"late_fee_limit_stop_after_days\" BETWEEN 1 AND 31\n        )\n        AND (\n          \"payment\".\"late_fee_limit_type\" != 'max_total_flat'\n          OR \"payment\".\"late_fee_limit_amount\" IS NOT NULL\n        )\n        AND (\n          \"payment\".\"late_fee_limit_type\" != 'max_total_percent_rent'\n          OR \"payment\".\"late_fee_limit_percent_of_rent\" IS NOT NULL\n        )\n      "
        }
      },
      "isRLSEnabled": false
    },
    "public.property": {
      "name": "property",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "landlord_id": {
          "name": "landlord_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "property_status": {
          "name": "property_status",
          "type": "property_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "property_type": {
          "name": "property_type",
          "type": "property_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'single_family_home'"
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "zip_code": {
          "name": "zip_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "year_built": {
          "name": "year_built",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "building_sq_ft": {
          "name": "building_sq_ft",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lot_sq_ft": {
          "name": "lot_sq_ft",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "property_landlord_id_idx": {
          "name": "property_landlord_id_idx",
          "columns": [
            {
              "expression": "landlord_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "property_landlord_address_uid": {
          "name": "property_landlord_address_uid",
          "columns": [
            {
              "expression": "landlord_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "address_line_1",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "city",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "zip_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "country",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "property_landlord_id_user_id_fk": {
          "name": "property_landlord_id_user_id_fk",
          "tableFrom": "property",
          "tableTo": "user",
          "columnsFrom": [
            "landlord_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "contact_email_valid": {
          "name": "contact_email_valid",
          "value": "\"property\".\"contact_email\" IS NULL OR \"property\".\"contact_email\" ~ '^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$'"
        },
        "contact_phone_e164": {
          "name": "contact_phone_e164",
          "value": "\"property\".\"contact_phone\" IS NULL OR \"property\".\"contact_phone\" ~ '^\\+[1-9]\\d{1,14}$'"
        },
        "year_built_range": {
          "name": "year_built_range",
          "value": "\"property\".\"year_built\" IS NULL OR (\"property\".\"year_built\" BETWEEN 1700 AND EXTRACT(YEAR FROM NOW())::int)"
        }
      },
      "isRLSEnabled": false
    },
    "public.tenant": {
      "name": "tenant",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "unit_id": {
          "name": "unit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lease_start_date": {
          "name": "lease_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "lease_end_date": {
          "name": "lease_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_unit_id_idx": {
          "name": "tenant_unit_id_idx",
          "columns": [
            {
              "expression": "unit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_unit_active_uid": {
          "name": "tenant_unit_active_uid",
          "columns": [
            {
              "expression": "unit_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"tenant\".\"lease_end_date\" IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_unit_id_unit_id_fk": {
          "name": "tenant_unit_id_unit_id_fk",
          "tableFrom": "tenant",
          "tableTo": "unit",
          "columnsFrom": [
            "unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "tenant_lease_dates_ordered": {
          "name": "tenant_lease_dates_ordered",
          "value": "\"tenant\".\"lease_end_date\" IS NULL OR \"tenant\".\"lease_end_date\" > \"tenant\".\"lease_start_date\""
        },
        "tenant_contact_email_valid": {
          "name": "tenant_contact_email_valid",
          "value": "\"tenant\".\"email\" IS NULL OR \"tenant\".\"email\" ~ '^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$'"
        },
        "tenant_contact_phone_e164": {
          "name": "tenant_contact_phone_e164",
          "value": "\"tenant\".\"phone\" IS NULL OR \"tenant\".\"phone\" ~ '^\\+[1-9]\\d{1,14}$'"
        },
        "tenant_contact_method_required": {
          "name": "tenant_contact_method_required",
          "value": "\"tenant\".\"email\" IS NOT NULL OR \"tenant\".\"phone\" IS NOT NULL"
        }
      },
      "isRLSEnabled": false
    },
    "public.unit": {
      "name": "unit",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "property_id": {
          "name": "property_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unit_number": {
          "name": "unit_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bedrooms": {
          "name": "bedrooms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bathrooms": {
          "name": "bathrooms",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": true
        },
        "rent_amount": {
          "name": "rent_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unit_property_id_idx": {
          "name": "unit_property_id_idx",
          "columns": [
            {
              "expression": "property_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unit_property_unit_number_uid": {
          "name": "unit_property_unit_number_uid",
          "columns": [
            {
              "expression": "property_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "unit_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "unit_property_id_property_id_fk": {
          "name": "unit_property_id_property_id_fk",
          "tableFrom": "unit",
          "tableTo": "property",
          "columnsFrom": [
            "property_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "unit_bedrooms_non_negative": {
          "name": "unit_bedrooms_non_negative",
          "value": "\"unit\".\"bedrooms\" >= 0"
        },
        "unit_bathrooms_non_negative": {
          "name": "unit_bathrooms_non_negative",
          "value": "\"unit\".\"bathrooms\" >= 0"
        },
        "unit_rent_amount_non_negative": {
          "name": "unit_rent_amount_non_negative",
          "value": "\"unit\".\"rent_amount\" >= 0"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.maintenance_priority": {
      "name": "maintenance_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high"
      ]
    },
    "public.maintenance_status": {
      "name": "maintenance_status",
      "schema": "public",
      "values": [
        "open",
        "in_progress",
        "resolved"
      ]
    },
    "public.initial_late_fee_type": {
      "name": "initial_late_fee_type",
      "schema": "public",
      "values": [
        "flat",
        "percent_rent",
        "percent_unpaid"
      ]
    },
    "public.late_fee_limit_type": {
      "name": "late_fee_limit_type",
      "schema": "public",
      "values": [
        "no_limit",
        "stop_after_days",
        "max_total_flat",
        "max_total_percent_rent"
      ]
    },
    "public.payment_status": {
      "name": "payment_status",
      "schema": "public",
      "values": [
        "pending",
        "paid",
        "late",
        "waived"
      ]
    },
    "public.property_status": {
      "name": "property_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "coming_soon",
        "archived"
      ]
    },
    "public.property_type": {
      "name": "property_type",
      "schema": "public",
      "values": [
        "apartment",
        "single_family_home",
        "condo",
        "co-op",
        "houseboat",
        "ranch",
        "mobile_home",
        "container_home",
        "split_level",
        "cottage",
        "mediterranean",
        "farmhouse",
        "cabin",
        "bungalow",
        "townhouse",
        "duplex",
        "triplex",
        "fourplex",
        "loft_conversion",
        "penthouse",
        "studio",
        "loft",
        "villa",
        "victorian",
        "colonial",
        "tudor",
        "craftsman",
        "tiny_house",
        "manufactured_home",
        "cape_cod",
        "mansion"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}